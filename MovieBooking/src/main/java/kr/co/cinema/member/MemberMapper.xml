<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="kr.co.cinema.member.MemberMapper">


	<!-- 비회원 가입 insert 시작 -->
	<insert id="">
		insert into non_member(
			nmem_phone,
			nmem_name,
			nmem_birth,
			nmem_pw)
		values(
			'01030448764'
			'홍진호',
			'20000109'
			'pw001')	
	
	</insert>
	<!-- 비회원 가입 insert 종료 -->

	<!-- 회원 로그인 select 시작 -->
	<select id="selectMemberLogin" parameterType="Map" resultType="kr.co.cinema.dto.Member">
		select
			mem_id AS memId,
			mem_pw AS memPw
		from 
			MEMBER
		where 
			mem_id=#{memId}
		and 
			mem_pw=#{memPw}
	</select>
	<!-- 회원 로그인 select 종료 -->

	<!-- 회원 가입 insert 시작 -->
	<insert id="insertMember" parameterType="kr.co.cinema.dto.Member">
		insert into MEMBER(
			mem_id,		
			mem_pw,
			mem_phone,
			mem_name,
			mem_gender,
			mem_birth,
			mem_postNo,
			mem_addr,
			mem_mail,
			mem_mileage,
			mem_joinDay,
			mem_status
		)values (
			#{memId},
			#{memPw},
			#{memPhone},
			#{memName},
			#{memGender},
			#{memBirth},
			#{memPostNo},
			#{memAddr},
			#{memMail},
			0,
			now(),
			'일반')
	</insert>
	<!-- 회원 가입 insert 종료 -->
	
	<!-- 회원 비밀번호 찾기 select 시작 -->
	<select id="selectOnePwFindMember" parameterType="String" resultType="kr.co.cinema.dto.Member">
		select
			mem_pw
		from 
			MEMBER 
		where	
			mem_id=#{memId} and
			mem_name=#{memName} and
			mem_phone=#{memPhone} 	
	</select>
	<!-- 회원 비밀번호 찾기 select 종료 -->
	
	<!-- 회원 아이디 찾기 select 시작 -->
	<select id="selectOneIdFindMember" parameterType="String" resultType="kr.co.cinema.dto.Member">
		select
			mem_id AS memId
		from 
			MEMBER 
		where 
			mem_name=#{memName} and 
			mem_birth=#{memBirth} and
			mem_phone=#{memPhone}
	</select>
	<!-- 회원 아이디 찾기 select 종료 -->
	
</mapper>